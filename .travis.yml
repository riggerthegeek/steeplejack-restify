language: node_js
node_js:
- 'node'
- '4.3'
- 'iojs'
- '0.12'
- '0.10'
matrix:
  fast_finish: true
sudo: false
before_install:
- npm install -g grunt-cli
script:
- grunt ci
before_deploy:
- grunt
deploy:
  provider: npm
  email: simon@simonemms.com
  api_key:
    secure: Tpz/DnfESujPs5FCOY9EVO7fXDQC/gxPWlOu5NJmFn4DQ721EiulEXhEX+7tgBCkrI1IBr8XbIR58ZmcXc3SOH2UEPit+S3f/J2Hxy5Xd/wXMmIdBNKPwN/Ac3KuJIzZ6283k57DRH3MInWRbZDPssT4rMqKwqViwGaDPWToVgE=
  on:
    all_branches: true
    tags: true
    repo: riggerthegeek/steeplejack-restify
